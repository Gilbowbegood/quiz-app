<div class="container text-center">
  <h3>QUIZ MAKER</h3>
</div>

<div class="container mt-4">
  <div class="row">

    <div class="col-5">
      <select #category (change)="onCategorySelected(category.value)" class="form-select" id="categorySelect">
        <option selected>Select a category</option>
        <option *ngFor="let category of categoryList">
          {{category.name}}
        </option>
      </select>
    </div>

    <div class="col-5">
      <select #difficulty (change)="onDifficultySelected(difficulty.value)" class="form-select" id="difficultySelect">
        <option selected>Select difficulty</option>
        <option value="easy">Easy</option>
        <option value="medium">Medium</option>
        <option value="hard">Hard</option>
      </select>
    </div>

    <div class="col-2">
      <button
        type="button"
        class="btn btn-secondary" 
        id="createBtn"
        [disabled]="!(categorySelected && difficultySelected)"
        (click)="createQuiz()">Create</button>
    </div>
  </div>
</div>

<div class="container mt-4">
  <ng-container *ngFor="let question of questions; let questionIndex = index">
    <h5 class="mt-2" [innerHTML]="question.question"><br></h5>
    <div class="justify-content-between">
      <button *ngFor="let answer of question.answers; let answerIndex = index"
        type="button"
        class="btn btn-outline-success"
        [innerHTML]="answer.value"
        [ngClass]="{
          'active': answer.isClicked ? true : false
        }"
        [ngStyle]="{
          'margin-right': '8px'
        }"
        (click)="saveAnswer(question.question, answer.value, questionIndex, answerIndex);">
      </button>
    </div>
  </ng-container>
</div>

<div *ngIf="numberOfQuestions === givenAnswers.size && numberOfQuestions != 0" class="container text-center">
  <button 
    type="button" 
    class="btn btn-outline-success mt-3 mb-3"
    (click)="goToResults()">
    submit
  </button>
</div>
